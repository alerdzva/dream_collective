{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/piyum/Desktop/tempfolder/frontend_dreamcollective/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/piyum/Desktop/tempfolder/frontend_dreamcollective/src/components/views/createTopic/SetupPromptsView.js\";\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  width:70%;\\n  margin:3vw 0;\\n  font-size: \", \";\\n  font-family: 'Roboto', serif;\\n  font-weight: \", \";\\n  color:\", \";\\n  width:100%;\\n  text-align:left;\\n  background-color:\", \";\\n  padding:3vw 2vw; \\n  transition:transform 0.2s;\\n  cursor: pointer;\\n\\n  &:hover{\\n    transform:scale(1.02)\\n  }\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\nmargin:auto;\\n  display:flex;\\n  width:70%;\\n  justify-content:space-between;\\n  margin-top:3vw;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  margin:5vw auto;\\n  position:relative;\\n  width:90vw;\\n\\n  @media \", \" {\\n    flex-direction:column;\\n    height:auto;\\n  }\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  width:100%;\\n  position:relative;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled, { ThemeConsumer } from \"styled-components\";\nimport LoadingWidget from \"../../LoadingWidget\";\nimport { devices } from \"../../../devices.js\";\nimport Header from \"../../commons/header/Header\";\nimport { theme } from \"../../../config/colorTheme\";\nimport Prompt from \"../../commons/Prompt\";\nimport TextArea from \"../../commons/TextArea\";\nimport Category from \"./Category\";\nimport Footer from \"../../commons/Footer\";\nimport NewFeature from \"../../feature/NewFeature\";\nimport NewPrompt from \"./NewPrompt\";\nimport Text from \"../../commons/Text\";\nimport Hero from \"../../commons/Hero\";\nconst Wrapper = styled.div(_templateObject());\nconst ContentWrapper = styled.div(_templateObject2(), devices.mobile);\nconst FeatureContainer = styled.div(_templateObject3());\nconst AddNewPrompt = styled.div(_templateObject4(), props => props.isSmall ? \"1.2vw\" : \"2vw\", props => props.isSmall ? \"300\" : \"700\", props => props.isDisabled ? theme.darkGray : theme.black, theme.lightGray);\nconst categories = [\"product\", \"space\", \"service\"];\n\nvar APICalls = require(\"../../../utils/APICalls\");\n\nclass SetupPromptsView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topic: null,\n      prompts: [{\n        text: \"\",\n        startingLine: \"\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    APICalls.readTopic(this.props.match.params.id, data => this.setState({\n      topic: data\n    }));\n  }\n\n  render() {\n    if (this.state.topic == null) return React.createElement(LoadingWidget, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    });\n    const mainHelp = React.createElement(Text, {\n      text: \"Encourage participants to tell you a story on how they see this dream \" + this.state.topic.name + \" being used. What do you want them to tell you about their creations? Is it to be used by a specific person or group of people and in what context? What does \" + this.state.topic.name + \"enable them to do?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    });\n    return React.createElement(Wrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Hero, {\n      isSmall: true,\n      onClick: () => this.props.history.push(\"../../\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Header, {\n      text: \"Create prompts for people to tell you about their dream \" + this.state.topic.name,\n      helpBody: mainHelp,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(ContentWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.state.prompts.map((item, key) => React.createElement(NewPrompt, {\n      index: key,\n      topicName: this.state.topic.name,\n      promptText: item.text,\n      startingLine: item.startingLine,\n      onPromptChange: (i, prompt) => this.handlePromptChange(i, prompt),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(AddNewPrompt, {\n      onClick: () => this.addNewPrompt(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \" \", \"+ Add another prompt\")), this.state.prompts[0].text.length > 5 && React.createElement(Footer, {\n      onDoneCallback: () => this.handlePublish(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }));\n  }\n\n  handlePublish() {\n    this.state.prompts.map((value, index) => {\n      APICalls.createNewPrompt({\n        topic: this.state.topic._id,\n        text: value.text,\n        startingLine: value.startingLine\n      }, data => console.log(data));\n    });\n    var topic = this.state.topic;\n    topic.isPublished = true;\n    APICalls.updateTopic(topic._id, topic, data => {\n      alert(\"Project published!\");\n      this.props.history.push(\"/topic/\" + this.state.topic._id);\n    });\n  }\n\n  addNewPrompt() {\n    var prompts = this.state.prompts;\n    prompts.push({\n      text: \"\",\n      startingLine: \"\"\n    });\n    this.setState({\n      prompts: prompts\n    });\n  }\n\n  handlePromptChange(i, prompt) {\n    var prompts = this.state.prompts;\n    prompts[i] = prompt;\n    this.setState(prompts);\n  }\n\n}\n\nexport default SetupPromptsView;","map":{"version":3,"sources":["/Users/piyum/Desktop/tempfolder/frontend_dreamcollective/src/components/views/createTopic/SetupPromptsView.js"],"names":["React","Component","styled","ThemeConsumer","LoadingWidget","devices","Header","theme","Prompt","TextArea","Category","Footer","NewFeature","NewPrompt","Text","Hero","Wrapper","div","ContentWrapper","mobile","FeatureContainer","AddNewPrompt","props","isSmall","isDisabled","darkGray","black","lightGray","categories","APICalls","require","SetupPromptsView","constructor","state","topic","prompts","text","startingLine","componentDidMount","window","scrollTo","readTopic","match","params","id","data","setState","render","mainHelp","name","history","push","map","item","key","i","prompt","handlePromptChange","addNewPrompt","length","handlePublish","value","index","createNewPrompt","_id","console","log","isPublished","updateTopic","alert"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled, { ThemeConsumer } from \"styled-components\";\nimport LoadingWidget from \"../../LoadingWidget\";\nimport { devices } from \"../../../devices.js\"\nimport Header from \"../../commons/header/Header\"\nimport { theme } from \"../../../config/colorTheme\";\nimport Prompt from \"../../commons/Prompt\";\nimport TextArea from \"../../commons/TextArea\"\nimport Category from \"./Category\"\nimport Footer from \"../../commons/Footer\"\nimport NewFeature from \"../../feature/NewFeature\";\nimport NewPrompt from \"./NewPrompt\";\nimport Text from \"../../commons/Text\";\nimport Hero from \"../../commons/Hero\";\n\n\n\n\n\nconst Wrapper = styled.div`\n  width:100%;\n  position:relative;\n`;\n\nconst ContentWrapper = styled.div`\n  margin:5vw auto;\n  position:relative;\n  width:90vw;\n\n  @media ${devices.mobile} {\n    flex-direction:column;\n    height:auto;\n  }\n`;\n\nconst FeatureContainer = styled.div`\nmargin:auto;\n  display:flex;\n  width:70%;\n  justify-content:space-between;\n  margin-top:3vw;\n`;\n\nconst AddNewPrompt = styled.div`\n  width:70%;\n  margin:3vw 0;\n  font-size: ${(props)=>props.isSmall? \"1.2vw\":\"2vw\"};\n  font-family: 'Roboto', serif;\n  font-weight: ${(props)=>props.isSmall? \"300\":\"700\"};\n  color:${(props) => props.isDisabled?theme.darkGray: theme.black};\n  width:100%;\n  text-align:left;\n  background-color:${theme.lightGray};\n  padding:3vw 2vw; \n  transition:transform 0.2s;\n  cursor: pointer;\n\n  &:hover{\n    transform:scale(1.02)\n  }\n`;\n\n\n\n\nconst categories = [\"product\", \"space\", \"service\"]\n\nvar APICalls = require(\"../../../utils/APICalls\")\n\n\n\nclass SetupPromptsView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      topic: null,\n      prompts: [{\n        text: \"\",\n        startingLine: \"\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n    APICalls.readTopic(this.props.match.params.id, (data) => this.setState({ topic: data }))\n  }\n\n\n\n  render() {\n    if (this.state.topic == null) return <LoadingWidget></LoadingWidget>;\n\n    const mainHelp = (\n      <Text\n        text={\n          \"Encourage participants to tell you a story on how they see this dream \" +\n          this.state.topic.name +\n          \" being used. What do you want them to tell you about their creations? Is it to be used by a specific person or group of people and in what context? What does \"\n          + this.state.topic.name + \"enable them to do?\"\n        }\n      ></Text>\n    );\n\n    return (\n      <Wrapper>\n        <Hero\n          isSmall={true}\n          onClick={() => this.props.history.push(\"../../\")}\n        ></Hero>\n\n        <Header\n          text={\n            \"Create prompts for people to tell you about their dream \" +\n            this.state.topic.name\n          }\n          helpBody={mainHelp}\n        ></Header>\n        <ContentWrapper>\n          {this.state.prompts.map((item, key) => (\n            <NewPrompt\n              index={key}\n              topicName={this.state.topic.name}\n              promptText={item.text}\n              startingLine={item.startingLine}\n              onPromptChange={(i, prompt) => this.handlePromptChange(i, prompt)}\n            ></NewPrompt>\n          ))}\n          <AddNewPrompt onClick={() => this.addNewPrompt()}>\n            {\" \"}\n            + Add another prompt\n          </AddNewPrompt>\n        </ContentWrapper>\n        {this.state.prompts[0].text.length > 5 && (\n          <Footer onDoneCallback={() => this.handlePublish()}></Footer>\n        )}\n      </Wrapper>\n    );\n  }\n\n  handlePublish(){\n    this.state.prompts.map(\n      (value,index)=>{\n        APICalls.createNewPrompt({topic:this.state.topic._id, text:value.text, startingLine:value.startingLine}, (data)=>console.log(data))\n      }\n    );\n\n    var topic = this.state.topic;\n    topic.isPublished = true;\n    APICalls.updateTopic(topic._id, topic, (data) => { \n      alert(\"Project published!\");\n      this.props.history.push(\"/topic/\" + this.state.topic._id);\n    })\n  }\n\n  addNewPrompt(){\n    var prompts = this.state.prompts;\n    prompts.push({text:\"\", startingLine:\"\"})\n    this.setState({prompts:prompts})\n  }\n\n  handlePromptChange(i,prompt){\n    var prompts = this.state.prompts;\n    prompts[i] = prompt;\n    this.setState(prompts)\n  }\n\n\n}\n\n\n\nexport default SetupPromptsView;\n"]},"metadata":{},"sourceType":"module"}