{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/piyum/Desktop/tempfolder/frontend_dreamcollective/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/piyum/Desktop/tempfolder/frontend_dreamcollective/src/components/views/topic/ResponseCard.js\";\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  font-size: 1.3vw;\\n  font-family: \\\"Roboto Slab\\\", serif;\\n  font-weight: 300;\\n  color: \", \";\\n  width: 50%;\\n  margin: 2vw auto;\\n  text-align: left;\\n  line-height: 1.6vw;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n  position: relative;\\n  margin: auto;\\n  height: 60vh;\\n  overflow: visible;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  margin: 5vw auto;\\n  position: relative;\\n  width: 90vw;\\n  padding-bottom: 5vw;\\n  background-color: \", \";\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"../../feature/Feature\";\nimport NewFeature from \"../../feature/NewFeature\";\nimport DreamItem from \"../../dreamItem/DreamItem\";\nimport LoadingWidget from \"../../LoadingWidget\";\nimport { isGibberish } from \"../../../GibberishFilter\";\nimport { devices } from \"../../../devices.js\";\nimport Header from \"../../commons/header/Header\";\nimport Button from \"../../commons/Button\";\nimport { theme } from \"../../../config/colorTheme\";\nimport Prompt from \"../../commons/Prompt\";\nimport TextArea from \"../../commons/TextArea\";\nconst ContentWrapper = styled.div(_templateObject(), theme.lightGray);\nconst DroneContainer = styled.div(_templateObject2());\nconst ResponseText = styled.p(_templateObject3(), theme.black);\n\nvar APICalls = require(\"../../../utils/APICalls\");\n\nclass ResponseCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: null\n    };\n  }\n\n  componentDidMount() {\n    //fetch the response data using id\n    APICalls.readResponse(this.props.responseId, data => {\n      this.setState({\n        response: data\n      });\n    });\n  }\n\n  updateResponse() {\n    var body = this.state.response;\n    body.inputs = this.state.inputs;\n    fetch(\"/responses/\" + this.state.response._id, {\n      method: \"PUT\",\n      body: JSON.stringify(body),\n      headers: {\n        Accept: \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json\",\n        Mode: \"CORS\"\n      }\n    }).then(data => {\n      console.log(data);\n      alert(\"Response Submitted. Thanks for your creativity!\");\n      this.props.history.push(\"../../topic/\" + this.state.response.topic._id);\n    });\n  }\n\n  render() {\n    if (this.state.response == null) return React.createElement(LoadingWidget, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    });\n    if (!this.state.response.isPublished) return null;\n    return React.createElement(ContentWrapper, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(DroneContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(DreamItem, {\n      editable: false,\n      drone: this.state.response,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), this.state.response.inputs.map((value, index) => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(ResponseText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, value.text))));\n  }\n\n}\n\nexport default ResponseCard;","map":{"version":3,"sources":["/Users/piyum/Desktop/tempfolder/frontend_dreamcollective/src/components/views/topic/ResponseCard.js"],"names":["React","Component","styled","Feature","FeatureType","FeatureTypes","NewFeature","DreamItem","LoadingWidget","isGibberish","devices","Header","Button","theme","Prompt","TextArea","ContentWrapper","div","lightGray","DroneContainer","ResponseText","p","black","APICalls","require","ResponseCard","constructor","props","state","response","componentDidMount","readResponse","responseId","data","setState","updateResponse","body","inputs","fetch","_id","method","JSON","stringify","headers","Accept","Mode","then","console","log","alert","history","push","topic","render","isPublished","map","value","index","text"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Feature, { FeatureType as FeatureTypes } from \"../../feature/Feature\";\nimport NewFeature from \"../../feature/NewFeature\";\nimport DreamItem from \"../../dreamItem/DreamItem\";\nimport LoadingWidget from \"../../LoadingWidget\";\nimport { isGibberish } from \"../../../GibberishFilter\";\nimport { devices } from \"../../../devices.js\";\nimport Header from \"../../commons/header/Header\";\nimport Button from \"../../commons/Button\";\n\nimport { theme } from \"../../../config/colorTheme\";\nimport Prompt from \"../../commons/Prompt\";\nimport TextArea from \"../../commons/TextArea\";\n\nconst ContentWrapper = styled.div`\n  margin: 5vw auto;\n  position: relative;\n  width: 90vw;\n  padding-bottom: 5vw;\n  background-color: ${theme.lightGray};\n`;\n\nconst DroneContainer = styled.div`\n  position: relative;\n  margin: auto;\n  height: 60vh;\n  overflow: visible;\n`;\n\nconst ResponseText = styled.p`\n  font-size: 1.3vw;\n  font-family: \"Roboto Slab\", serif;\n  font-weight: 300;\n  color: ${theme.black};\n  width: 50%;\n  margin: 2vw auto;\n  text-align: left;\n  line-height: 1.6vw;\n`;\n\nvar APICalls = require(\"../../../utils/APICalls\");\n\nclass ResponseCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: null,\n    };\n  }\n\n  componentDidMount() {\n    //fetch the response data using id\n    APICalls.readResponse(this.props.responseId, (data) => {\n      this.setState({ response: data });\n    });\n  }\n\n  updateResponse() {\n    var body = this.state.response;\n    body.inputs = this.state.inputs;\n    fetch(\"/responses/\" + this.state.response._id, {\n      method: \"PUT\",\n      body: JSON.stringify(body),\n      headers: {\n        Accept: \"application/json, text/plain, */*\",\n        \"Content-Type\": \"application/json\",\n        Mode: \"CORS\",\n      },\n    }).then((data) => {\n      console.log(data);\n      alert(\"Response Submitted. Thanks for your creativity!\");\n      this.props.history.push(\"../../topic/\" + this.state.response.topic._id);\n    });\n  }\n\n  render() {\n    if (this.state.response == null) return <LoadingWidget></LoadingWidget>;\n    if (!this.state.response.isPublished) return null;\n    return (\n      <ContentWrapper>\n        <DroneContainer>\n          <DreamItem editable={false} drone={this.state.response}></DreamItem>\n        </DroneContainer>\n        {this.state.response.inputs.map((value, index) => (\n          <div>\n            <ResponseText>{value.text}</ResponseText>\n          </div>\n        ))}\n      </ContentWrapper>\n    );\n  }\n}\n\nexport default ResponseCard;\n"]},"metadata":{},"sourceType":"module"}